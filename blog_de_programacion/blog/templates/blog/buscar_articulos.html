{% extends 'blog/base.html' %}

{% block content %}
    <h2>Buscar artÃ­culos por nombre</h2>
    <form method="get">
        <input type="text" name="query" placeholder="EscribÃ­ el nombre del articulo..." value="{{ query }}">
        <input type="submit" value="Buscar">
    </form>

    {% if query %}
        {% if resultados %}
            <h2>Resultados de bÃºsqueda para "{{ query }}":</h2>
            <ul class="resultados">
                {% for articulo in resultados %}
                    <li>
                        <a href="{{ articulo.get_absolute_url }}">{{ articulo.titulo }}</a><br>
                        <span style="color: #562ea5;">ğŸ‘¨â€ğŸ’»</span> <strong>Autor:</strong> {{ articulo.autor.nombre }}<br>
                        <span style="color: #562ea5;">ğŸ“š</span> <strong>CategorÃ­a:</strong> {{ articulo.categoria.nombre }}<br>
                        <span style="color: #562ea5;">ğŸ“</span> <strong>DescripciÃ³n:</strong> {{ articulo.contenido|slice:":150" }}... <br>
                    </li>
                {% endfor %}
            </ul>
        {% else %}
            <p>No se encontraron artÃ­culos que coincidan con la bÃºsqueda.</p>
        {% endif %}
    {% endif %}

    <h2>Ver todos los artÃ­culos</h2>
    <ul class="resultados">
    {% for articulo in todos_los_articulos %}
        <li>
            <a href="{{ articulo.get_absolute_url }}">{{ articulo.titulo }}</a><br>
            <span style="color: #562ea5;">ğŸ‘¨â€ğŸ’»</span> <strong>Autor:</strong> {{ articulo.autor.nombre }}<br>
            <span style="color: #562ea5;">ğŸ“š</span> <strong>CategorÃ­a:</strong> {{ articulo.categoria.nombre }}<br>
            <span style="color: #562ea5;">ğŸ“</span> <strong>DescripciÃ³n:</strong> {{ articulo.contenido|slice:":150" }}... <br>
        </li>
    {% endfor %}
</ul>
{% endblock %}
