{% extends 'blog/base.html' %}

{% block content %}
    <h2>Buscar art√≠culos por autor</h2>
    <form method="get">
        <input type="text" name="autor" placeholder="Escrib√≠ un autor...">
        <input type="submit" value="Buscar">
    </form>

    {% if articulos %}
        <h3>Resultados:</h3>
        <ul>
            {% for articulo in articulos %}
                <li>
                    <strong>{{ articulo.titulo }}</strong><br>
                    ‚úçÔ∏è Autor: <a href="{% url 'perfil_autor' autor_id=articulo.autor.id %}">{{ articulo.autor.nombre }}</a><br>
                    üìö Categor√≠a: {{ articulo.categoria.nombre }}<br>
                    üîó GitHub: <a href="{{ articulo.contenido }}" target="_blank">{{ articulo.contenido }}</a><br>
                </li>
            {% endfor %}
        </ul>
    {% elif request.GET.autor %}
        <p>No se encontraron art√≠culos de ese autor.</p>
    {% endif %}

    <h2>Lista de todos los autores</h2>
    <ul>
        {% for autor in todos_los_autores %}
            <li>‚úçÔ∏è <a href="{% url 'perfil_autor' autor_id=autor.id %}">{{ autor.nombre }}</a></li>
        {% endfor %}
    </ul>
{% endblock %}
